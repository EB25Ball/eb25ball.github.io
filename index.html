<!DOCTYPE html>
<html>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

<head>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" crossorigin="anonymous">$('.discordpfp-container').hover(function () {
      $('.dropdown-menu').stop().slideDown();
    }, function () {
      $('.dropdown-menu').stop().slideUp();
    });</script>
  <link rel="stylesheet" type="text/css" href="MainPageStyle.css">
  <style>
    exterior-background {
      position: fixed;
      top: 13vw;
      width: 100vw;
      height: 50vw;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 0;
    }
    exterior-background img {
      position: absolute;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
  }

    .custom-range {
      width: 21vw;
      height: 1.5vw;
      border-radius: 2vw;
      background-color: #ddd;
      display: flex;
      align-items: center;
      cursor: pointer;
      position: relative;
    }

    .custom-range:before {
      content: "";
      height: 100%;
      width: 0;
      background-color: #2196f3;
      transition: width 0.3s ease-out;
    }

    .custom-range-thumb {
      height: 2vw;
      width: 2vw;
      background-color: #fff;
      border-radius: 100%;
      display: flex;
      position: absolute;
      top: 0;
      left: 0;
      box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.3);
      transition: top 0.3s ease-out;
    }

    .dropdown-menu {
      position: absolute;
      top: 92.5%;
      left: 36.75%;
      outline: none;
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow: hidden;
      width: 2vw;
      height: 0;
      background-color: #2e2c2c;
      z-index: -2;
      border-bottom-left-radius: 1vw;
      border-bottom-right-radius: 1vw;
      transition: height 2s;
    }

    .dropdown-menu .nav_img {
      width: 75%;
      margin: 0.75vw 0;
      background: none;
    }

    /* .nav_img:hover {
        background: rgba(170,170,170, 0.062);
        transition: 0.5s;
      }*/
      .blackhole {
        position:absolute;
        top:18.75%;
        left:65%;
        width: 25vw; 
        height: 17vw;
        animation: BlackholeAnimate 3s ease-out forwards;
      }
        .earth {
          position: absolute;
          top: 50%;
          left: 5%;
          width: 20.0vw;
          height: 20vw;
          border-radius: 100%;
          opacity: 0;
          animation: EarthAnimate 3s ease-out forwards;
        }
      
        @keyframes EarthAnimate {
          0% {
            top: 50%;
            opacity: 0;
          }
          100% {
            top: 40%;
            opacity: 1;
          }
        }
        @keyframes BlackholeAnimate {
          0% {
            top: 08.75%;
            opacity: 0;
          }
          100% {
            top: 18.75%;
            opacity: 1;
          }
        }
  </style>
</head>

<body>
  <div class="cursor-outer"></div>
  <div class="scrollable-content">
    <!-- <div class="headerContainer">
      <img src="20230207_115139(1).gif" loop=1 class="LogoHeader">
    </div>-->
    <section>
      <img src="BannerImages/stars.png" id="stars" alt="stars">
      <img src="BannerImages/moon.png" id="moon" alt="moon" mix-blend-mode="screen">
      <img src="BannerImages/mountains_behind.png" id="mountains_behind" alt="mountains_behind">
      <h2 id="text">EBSpark</h2>
      <img src="BannerImages/mountains_front.png" id="mountains_front" alt="mountains_front">
    </section>
    <div class="page">
      <div class="discordpfp-container" href="https://discordapp.com/users/461694991467544577">
        <img src="images/f7b4dd6238e2719cc9a4f2d8fc2ce00e.png" class="DiscordPfp">
        <div class="dropdown-menu">
          <img class="nav_img" src="images/dc.png">
          <img class="nav_img" src="images/li.png">
          <img class="nav_img" src="images/tw.png">
        </div>
      </div>
      <div class="page-overlays">
        <img class="earth" src="images/Earth.png">
        <img class="blackhole" src="images/Picsart_23-02-09_16-02-36-900.png">
      </div>
      <div class="socials">
        <b href="https://www.facebook.com">
          <img src="images/Facebook-logo-blue-circle-large-transparent-png.png" class="social-icon"
            style="width: 2.25vw; height: 2.25vw;">
        </b>

        <b href="https://www.github.com">
          <img src="images/GithubLogo.png" class="social-icon" style="width: 2.25vw; height: 2.25vw;">
        </b>
        <b href="https://www.twitch.tv">
          <img src="images/TwitchIcon.png" class="social-icon" style="width: 2.25vw; height: 2.25vw;">
        </b>
      </div>
      <div class="switch">
        <input type="checkbox" id="toggle-background">
      </div>
      <div class="mainButtons">
        <a href="#" style="--clr:#1e9bff" class="TiktokButton">
          <span>Button</span>
          <i></i> </a>
        <a href="#" style="--clr:#6eff3e" class="GrabArchiveButton"><span>Button</span><i></i> </a>
        <a href="#" style="--clr:#ff1867" class="GrabButton"><span>Button</span><i></i> </a>
        <div id="slider-container">
          <div class="custom-range" id="customRange">
            <div class="custom-range-thumb" id="customRangeThumb"></div>
          </div>
        </div>
      </div>
      <div class="page2">
      </div>
    </div>
    <exterior-background>
      <img src="images/ExBackground.png" id="ex-background"alt="ex-background">
    </exterior-background>
  </div>
  <script>
    const Discordpfp_container = document.querySelector(".discordpfp-container");
    const dropdown_menu = document.querySelector(".dropdown-menu");
    const customRange = document.getElementsByClassName("custom-range");
    const customRangeID = document.getElementById("customRange");
    const customRangeThumb = document.getElementById("customRangeThumb");
    const page = document.querySelector(".page");
    const outer = document.querySelector(".cursor-outer");
    const toggleBackground = document.getElementById("toggle-background");
    toggleBackground.addEventListener("change", function () {
      if (toggleBackground.checked) {
        page.style.backgroundImage = "url('images/starsforpage.jpg')";
      } else {
        page.style.backgroundImage = "none";
      }
    });
    Discordpfp_container.addEventListener("mouseover", function () {
      dropdown_menu.style.height = "10vw";
    });

    Discordpfp_container.addEventListener("mouseout", function () {
      dropdown_menu.style.height = "0";
    });
    let isDragging = false;
    let currentX;
    let initialX;
    let xOffset = 0;

    customRangeThumb.addEventListener("mousedown", function (e) {
      isDragging = true;
      initialX = e.clientX - xOffset;
      console.log("initialX = " + e.clientX - xOffset);
    });
    var currentValue = (currentX / customRangeID.offsetWidth) * 100;
    document.addEventListener("mouseup", function () {
      isDragging = false;
    });

    customRange[0].addEventListener("mousemove", function (e) {
      if (isDragging) {
        currentX = e.clientX - initialX;
        console.log(currentX, "Customrange clientX = " + e.clientX, "inital =" + initialX);
        xOffset = currentX;
        customRangeThumb.style.left = currentX + "px";
        $('.custom-range::before').css('width', customRangeThumb.offsetLeft + 'px');
        currentValue = (currentX / customRangeID.offsetWidth) * 100;
        page.style.backgroundColor = `rgb(${currentValue}, ${currentValue}, ${currentValue})`;
      }
    });


    customRange[0].addEventListener("mouseleave", function () {
      customRangeThumb.style.top = "0";
    });
    const thumb = document.querySelector('.custom-range-thumb');
    const rangDisplay = document.querySelector('.custom-range');

    thumb.addEventListener('mousedown', function () {
      document.addEventListener('mousemove', handleMouseMove);
    });
    document.addEventListener('mouseup', function () {
      document.removeEventListener('mousemove', handleMouseMove);
    });

    function handleMouseMove(e) {
      const thumbRect = thumb.getBoundingClientRect();
      const displayRect = rangDisplay.getBoundingClientRect();
      if (thumbRect.right >= displayRect.left && thumbRect.left <= displayRect.right) {
        rangDisplay.style.overflow = "hidden";
      } else {
        rangDisplay.style.overflow = "visible";
      }
    }
    window.onload = function () {
      console.log("it loaded");
      rangDisplay.style.overflow = "hidden";
    }

  </script>
  <script src="Banner.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/kursor@0.0.14/dist/kursor.js">new kursor({
      type: 3,
      removeDefualtCursor: true,
    })</script>
</body>

</html>
